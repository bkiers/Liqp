{"note":"Don't delete this file! It's used internally to help with page regeneration.","tagline":"An ANTLR based 'Liquid Template file' parser.","google":"","body":"# Liquid Parser\r\n\r\nThe Liquid-grammar can be found in `src/grammar/Liquid.g`. No parser resides in this repository: it can \r\nbe generated by executing the Ant target `generate.parser`. There's also a small `Main` class in `src/main/liqp/`\r\nthat demonstrates how to instantiate a lexer and parser and how to get create an actual syntax tree \r\nproduced by the parser. The `Main` class can be executed by executing the Ant target `run`.\r\n\r\nThe grammar contains some Java specific code, but with a bit of ANTLR knowledge, it shouldn't be too hard \r\nto rewrite it for a different target (C, Python, JavaScript, C# are all pretty stable ANTLR targets).\r\n\r\n# Examples \r\n\r\nBelow are a couple of example sources taken from [wiki.shopify.com](http://wiki.shopify.com/UsingLiquid). \r\nUnderneath each example source, the corresponding abstract syntax tree produced by the parser is given.\r\n\r\n## 1. output\r\n\r\n    Hello {{name}}\r\n    Hello {{user.name}}\r\n    Hello {{ 'tobi' }}\r\n\r\n![-][1]\r\n\r\n## 2. filters\r\n\r\n    The word \"tobi\" in uppercase: {{ 'tobi' | upcase }}\r\n    The word \"tobi\" has {{ 'tobi' | size }} letters!\r\n    Change \"Hello world\" to \"Hi world\": {{ 'Hello world' | replace: 'Hello', 'Hi' }}\r\n    The date today is {{ 'now' | date: \"%Y %b %d\" }}\r\n\r\n![-][2]\r\n\r\n## 3. comment\r\n\r\n    Hello world. {% comment %} Now this is a single-line comment {% endcomment %} <br />\r\n    Hello world,\r\n    I think I'm gonna be happy today. {% comment %} Now this is a\r\n    multi-line comment that should be ignored too,\r\n    just like the single-line comment {% endcomment %}\r\n\r\n![-][3]\r\n\r\n## 4. raw\r\n\r\n    {% raw %}{{ 5 | plus: 6 }}{% endraw %} is equal to {{ 5 | plus: 6 }}.\r\n\r\n![-][4]\r\n\r\n## 5. if, else, unless\r\n\r\n    {% if user.payments == empty %}\r\n       you haven't paid yet! \r\n    {% endif %}\r\n\r\n![-][5]\r\n\r\n    {% if user.age > 18 %}\r\n       Login here\r\n    {% else %}\r\n       Sorry, you are too young\r\n    {% endif %}\r\n\r\n![-][6]\r\n\r\n    {% unless user.age > 18 %}\r\n      Sorry, you are too young\r\n    {% else %}\r\n      Login here\r\n    {% endunless %}\r\n\r\n![-][7]\r\n\r\n## 6. case\r\n\r\n    {% case template %}\r\n      {% when 'index' %}\r\n         Welcome\r\n      {% when 'product' %}\r\n         {{ product.vendor | link_to_vendor }} / {{ product.title }}\r\n      {% else %}\r\n         {{ page_title }}\r\n    {% endcase %}\r\n\r\n![-][8]\r\n\r\n## 7. cycle\r\n\r\n    {% cycle 'one', 'two', 'three' %}<br /> \r\n    {% cycle 'one', 'two', 'three' %}<br /> \r\n    {% cycle 'one', 'two', 'three' %}<br /> \r\n    {% cycle 'one', 'two', 'three' %} \r\n\r\n![-][9]\r\n    \r\n    {% cycle 'group 1': 'one', 'two', 'three' %}<br /> \r\n    {% cycle 'group 1': 'one', 'two', 'three' %}<br /> \r\n    {% cycle 'group 2': 'one', 'two', 'three' %}<br /> \r\n    {% cycle 'group 2': 'one', 'two', 'three' %} \r\n\r\n![-][10]\r\n\r\n## 8. for\r\n\r\n    {% for item in array %} \r\n      {{ item }}\r\n    {% endfor %} \r\n\r\n![-][11]\r\n\r\n    {% for item in array limit:2 offset:2 %} \r\n      {{ item }}\r\n    {% endfor %} \r\n\r\n![-][12]\r\n\r\n    {% for i in (1..item.quantity) %}\r\n      {{ i }}\r\n    {% endfor %}\r\n\r\n![-][13]\r\n\r\n## 9. tables\r\n\r\n    {% tablerow item in items cols: 3 limit: 12 %}\r\n      {{ item.variable }}\r\n    {% endtablerow %}\r\n\r\n![-][14]\r\n    \r\n    {% tablerow item in items cols: 3 %}\r\n      {% if tablerowloop.col_first %}\r\n        First column: {{ item.variable }}\r\n      {% else %}\r\n        Different column: {{ item.variable }}\r\n      {% endif %}\r\n    {% endtablerow %}\r\n\r\n![-][15]\r\n\r\n## 10. assign\r\n\r\n    {% assign name = 'freestyle' %}\r\n    {% for t in collections.tags %}\r\n      {% if t == name %}\r\n        <p>Freestyle!</p>\r\n      {% endif %}\r\n    {% endfor %}\r\n\r\n![-][16]\r\n\r\n    {% assign freestyle = false %}\r\n    {% for t in collections.tags %}\r\n      {% if t == 'freestyle' %}\r\n        {% assign freestyle = true %}\r\n      {% endif %}\r\n    {% endfor %}\r\n    {% if freestyle %}\r\n      <p>Freestyle!</p>\r\n    {% endif %}\r\n\r\n![-][17]\r\n\r\n## 11. capture\r\n\r\n    {% capture attribute_name %}{{ item.title | handleize }}-{{ i }}-color{% endcapture %}\r\n\r\n    <label for=\"{{ attribute_name }}\">Color:</label>\r\n    <select name=\"attributes[{{ attribute_name }}]\" id=\"{{ attribute_name }}\">\r\n      <option value=\"red\">Red</option>\r\n      <option value=\"green\">Green</option>\r\n      <option value=\"blue\">Blue</option>\r\n    </select>\r\n\r\n![-][18]\r\n\r\n## 12. include\r\n\r\n    {% assign shape = 'circle' %}\r\n    {% include 'color' %}\r\n    {% include 'color' with 'red' %}\r\n    {% include 'color' with 'blue' %}\r\n    {% assign shape = 'square' %}\r\n    {% include 'color' with 'red' %}\r\n\r\n![-][19]\r\n\r\n\r\n  [1]: https://github.com/bkiers/Liqp/raw/master/img/1.png\r\n  [2]: https://github.com/bkiers/Liqp/raw/master/img/2.png\r\n  [3]: https://github.com/bkiers/Liqp/raw/master/img/3.png\r\n  [4]: https://github.com/bkiers/Liqp/raw/master/img/4.png\r\n  [5]: https://github.com/bkiers/Liqp/raw/master/img/5.png\r\n  [6]: https://github.com/bkiers/Liqp/raw/master/img/6.png\r\n  [7]: https://github.com/bkiers/Liqp/raw/master/img/7.png\r\n  [8]: https://github.com/bkiers/Liqp/raw/master/img/8.png\r\n  [9]: https://github.com/bkiers/Liqp/raw/master/img/9.png\r\n  [10]: https://github.com/bkiers/Liqp/raw/master/img/10.png\r\n  [11]: https://github.com/bkiers/Liqp/raw/master/img/11.png\r\n  [12]: https://github.com/bkiers/Liqp/raw/master/img/12.png\r\n  [13]: https://github.com/bkiers/Liqp/raw/master/img/13.png\r\n  [14]: https://github.com/bkiers/Liqp/raw/master/img/14.png\r\n  [15]: https://github.com/bkiers/Liqp/raw/master/img/15.png\r\n  [16]: https://github.com/bkiers/Liqp/raw/master/img/16.png\r\n  [17]: https://github.com/bkiers/Liqp/raw/master/img/17.png\r\n  [18]: https://github.com/bkiers/Liqp/raw/master/img/18.png\r\n  [19]: https://github.com/bkiers/Liqp/raw/master/img/19.png\r\n","name":"Liqp"}